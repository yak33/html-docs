<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åç†™ç”Ÿç‰©å…³åŠ¡ç³»ç»Ÿä¸DHL APIå¯¹æ¥æ–¹æ¡ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: 'Microsoft YaHei', Arial, sans-serif; 
            line-height: 1.6;
        }
        pre { 
            background-color: #f8f9fa; 
            padding: 15px; 
            border-radius: 8px; 
            border-left: 4px solid #007bff;
            overflow-x: auto;
            margin: 10px 0;
        }
        code { 
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace; 
            background-color: #f1f3f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }
        pre code {
            background-color: transparent;
            padding: 0;
        }
        .table-container {
            overflow-x: auto;
            margin: 15px 0;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            text-align: left;
        }
        td, th {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        tr:hover {
            background-color: #f5f7fa;
        }
        .highlight-box {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border: 1px solid #667eea40;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .timeline-item {
            border-left: 3px solid #007bff;
            padding-left: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #007bff;
        }
        .nav-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            z-index: 1000;
            max-width: 250px;
        }
        .nav-menu a {
            display: block;
            color: #333;
            text-decoration: none;
            padding: 5px 0;
            border-bottom: 1px solid #eee;
            font-size: 0.9em;
        }
        .nav-menu a:hover {
            color: #007bff;
        }
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100 p-6">
    <!-- å¯¼èˆªèœå• -->
    <div class="nav-menu">
        <h3 class="text-lg font-semibold mb-3 text-gray-800">å¿«é€Ÿå¯¼èˆª</h3>
        <a href="#overview">é¡¹ç›®æ¦‚è¿°</a>
        <a href="#preparation">å‡†å¤‡é˜¶æ®µ</a>
        <a href="#authentication">è®¤è¯å®ç°</a>
        <a href="#shipment-module">è¿å•æ¨¡å—</a>
        <a href="#declaration-module">ç”³æŠ¥å•æ¨¡å—</a>
        <a href="#testing">æµ‹è¯•éƒ¨ç½²</a>
        <a href="#timeline">å¼€å‘æ—¶é—´è¡¨</a>
        <a href="#security">å®‰å…¨æ€§èƒ½</a>
    </div>
    
    <div class="max-w-5xl mx-auto bg-white p-8 rounded-lg shadow">
        <h1 class="text-4xl font-bold mb-8 text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">åç†™ç”Ÿç‰©å…³åŠ¡ç³»ç»Ÿä¸DHL APIå¯¹æ¥æ–¹æ¡ˆ</h1>
        <div class="highlight-box" id="overview">
            <p class="text-gray-700 text-lg leading-relaxed">ä»¥ä¸‹æ˜¯ä¸ºåç†™ç”Ÿç‰©çš„å…³åŠ¡ç³»ç»Ÿä¸DHLçš„APIï¼ˆè¿å•å’ŒDPSç”³æŠ¥æ¥å£ï¼‰è¿›è¡Œå¯¹æ¥çš„è¯¦ç»†æ–¹æ¡ˆå’Œå¼€å‘è®¡åˆ’ã€‚æ–¹æ¡ˆæ¶µç›–è¿å•æ¨¡å—å’Œç”³æŠ¥å•æ¨¡å—ï¼ŒåŸºäºRESTæ¥å£è°ƒç”¨ï¼ŒåŒ…å«å‰åç«¯å¼€å‘æ­¥éª¤å’Œå‚æ•°è¦æ±‚ã€‚æœ¬æ–‡æ¡£å®Œå–„äº†è¿å•æ¨¡å—çš„é¢„çº¦å–ä»¶ã€æŸ¥è¯¢é¢„ä¼°è¿è´¹å’Œå¿«ä»¶è·Ÿè¸ªæ¥å£ã€‚</p>
        </div>

        <h2 class="text-2xl font-semibold mt-8 mb-6 text-blue-600" id="key-points">ğŸ¯ å…³é”®ç‚¹</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                <h3 class="font-semibold text-blue-800 mb-2">ğŸ“¦ è¿å•æ¨¡å—</h3>
                <p class="text-blue-700">å®ç°åˆ¶ä½œè¿å•ã€é¢„çº¦å–ä»¶ã€æŸ¥è¯¢é¢„ä¼°è¿è´¹å’Œå¿«ä»¶è·Ÿè¸ªåŠŸèƒ½ï¼Œè°ƒç”¨MyDHL APIã€‚</p>
            </div>
            <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                <h3 class="font-semibold text-green-800 mb-2">ğŸ“‹ ç”³æŠ¥å•æ¨¡å—</h3>
                <p class="text-green-700">æ ¼å¼åŒ–å…³åŠ¡ç³»ç»ŸæŠ¥å…³å•æ•°æ®ï¼Œé€šè¿‡DPSç”³æŠ¥APIæ¨é€ç»™DHLã€‚</p>
            </div>
            <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-500">
                <h3 class="font-semibold text-purple-800 mb-2">ğŸ” è®¤è¯æ–¹å¼</h3>
                <p class="text-purple-700">MyDHL APIä½¿ç”¨åŸºæœ¬è®¤è¯ï¼ŒDPSç”³æŠ¥APIä½¿ç”¨DPS Tokenè®¤è¯ã€‚</p>
            </div>
            <div class="bg-orange-50 p-6 rounded-lg border-l-4 border-orange-500">
                <h3 class="font-semibold text-orange-800 mb-2">â±ï¸ å¼€å‘æ—¶é—´</h3>
                <p class="text-orange-700">é¢„è®¡æ€»å‘¨æœŸ12-14å‘¨ï¼ŒåŒ…å«å®Œæ•´çš„å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ã€‚</p>
            </div>
        </div>

        <h2 class="text-3xl font-semibold mt-12 mb-6 text-blue-600" id="overview-plan">ğŸš€ æ€»ä½“å¯¹æ¥æ–¹æ¡ˆ</h2>
        <div class="highlight-box">
            <p class="text-lg text-gray-700">å¯¹æ¥æ–¹æ¡ˆåˆ†ä¸ºè¿å•æ¨¡å—å’Œç”³æŠ¥å•æ¨¡å—ï¼Œæ¶µç›–è®¤è¯ã€APIè°ƒç”¨ã€å‰ç«¯è®¾è®¡ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚</p>
        </div>

        <div class="timeline-item" id="preparation">
            <h3 class="text-xl font-semibold mb-3 text-blue-600">1ï¸âƒ£ å‡†å¤‡é˜¶æ®µ</h3>
            <div class="bg-gray-50 p-4 rounded-lg mb-4">
                <p class="font-semibold text-gray-800 mb-2">ğŸ¯ ç›®æ ‡ï¼šè·å–èµ„æºï¼Œæ­å»ºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ</p>
                <ul class="list-disc pl-6 space-y-2">
                    <li>ä»DHLè·å–MyDHL APIå’ŒDPSç”³æŠ¥APIæ–‡æ¡£åŠæµ‹è¯•/ç”Ÿäº§ç¯å¢ƒå‡­è¯</li>
                    <li>æ­å»ºå¼€å‘ç¯å¢ƒï¼Œä½¿ç”¨Java RESTå®¢æˆ·ç«¯åº“ï¼ˆå¦‚Apache HttpClientã€OkHttpæˆ–Spring RestTemplateï¼‰å’Œæµ‹è¯•å·¥å…·ï¼ˆå¦‚Postmanã€SOAPUIï¼‰</li>
                </ul>
            </div>
            <span class="inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">â±ï¸ æ—¶é—´ï¼š1å‘¨</span>
        </div>

        <div class="timeline-item" id="authentication">
            <h3 class="text-xl font-semibold mb-3 text-blue-600">2ï¸âƒ£ è®¤è¯å®ç°</h3>
        <p><strong>MyDHL APIè®¤è¯</strong>ï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li>ä½¿ç”¨åŸºæœ¬è®¤è¯ï¼ˆBasic Authï¼‰ï¼Œå°†ç”¨æˆ·åå’Œå¯†ç Base64ç¼–ç ï¼Œè®¾ç½®åœ¨è¯·æ±‚å¤´<code>Authorization</code>å­—æ®µã€‚</li>
            <li>åŸºç¡€è®¤è¯é…ç½®ï¼ˆJavaï¼‰ï¼š
                <pre><code>// Mavenä¾èµ–
// <dependency>
//     <groupId>org.apache.httpcomponents</groupId>
//     <artifactId>httpclient</artifactId>
//     <version>4.5.13</version>
// </dependency>

import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.StringEntity;
import org.apache.http.Header;
import org.apache.http.message.BasicHeader;
import java.util.Base64;

public class DhlApiClient {
    private static final String TEST_BASE_URL = "https://express.api.dhl.com/mydhlapi/test";
    private static final String PROD_BASE_URL = "https://express.api.dhl.com/mydhlapi";
    
    private String username = "your_test_username";
    private String password = "your_test_password";
    
    // ç”ŸæˆBasic Auth Header
    private String getBasicAuthHeader() {
        String credentials = username + ":" + password;
        return "Basic " + Base64.getEncoder().encodeToString(credentials.getBytes());
    }
    
    // è·å–é€šç”¨è¯·æ±‚å¤´
    public Header[] getCommonHeaders() {
        return new Header[]{
            new BasicHeader("Authorization", getBasicAuthHeader()),
            new BasicHeader("Content-Type", "application/json"),
            new BasicHeader("Accept", "application/json"),
            new BasicHeader("Message-Reference", java.util.UUID.randomUUID().toString())
        };
    }
}</code></pre>
            </li>
        </ul>
        <p><strong>DPSç”³æŠ¥APIè®¤è¯</strong>ï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>å®Œæ•´è®¤è¯URL</strong>ï¼š<code>https://api.dhl.com/dps-auth-server/api/gateway-token/generate</code></li>
            <li><strong>Javaå®ç°ç¤ºä¾‹</strong>ï¼š
                <pre><code>import com.fasterxml.jackson.databind.ObjectMapper;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.apache.http.HttpResponse;

public class DpsAuthClient {
    private static final String DPS_AUTH_URL = "https://api.dhl.com/dps-auth-server/api/gateway-token/generate";
    
    public class TokenRequest {
        public String consumerCode; // DHLæä¾›çš„æ¶ˆè´¹è€…ä»£ç 
        public String key; // DHLæä¾›çš„å¯†é’¥
        
        public TokenRequest(String consumerCode, String key) {
            this.consumerCode = consumerCode;
            this.key = key;
        }
    }
    
    public class TokenResponse {
        public String access_token;
        public String token_type;
        public int expires_in; // ç§’æ•°ï¼Œé€šå¸¸æ˜¯3600ï¼ˆ60åˆ†é’Ÿï¼‰
        public String scope;
    }
    
    // è·å–DPSè®¿é—®Token
    public String getDpsToken(String consumerCode, String key) throws Exception {
        CloseableHttpClient client = HttpClients.createDefault();
        HttpPost post = new HttpPost(DPS_AUTH_URL);
        
        // è®¾ç½®è¯·æ±‚å¤´
        post.setHeader("Content-Type", "application/json");
        post.setHeader("Accept", "application/json");
        
        // è®¾ç½®è¯·æ±‚ä½“
        TokenRequest request = new TokenRequest(consumerCode, key);
        ObjectMapper mapper = new ObjectMapper();
        String requestJson = mapper.writeValueAsString(request);
        post.setEntity(new StringEntity(requestJson, "UTF-8"));
        
        HttpResponse response = client.execute(post);
        String responseBody = EntityUtils.toString(response.getEntity());
        
        if (response.getStatusLine().getStatusCode() == 200) {
            TokenResponse tokenResponse = mapper.readValue(responseBody, TokenResponse.class);
            return tokenResponse.access_token;
        } else {
            throw new RuntimeException("Failed to get DPS token: " + responseBody);
        }
    }
    
    // Tokenæœ‰æ•ˆæœŸç®¡ç†
    private String cachedToken;
    private long tokenExpiryTime;
    
    public String getValidToken(String consumerCode, String key) throws Exception {
        long currentTime = System.currentTimeMillis();
        
        // å¦‚æœTokenä¸å­˜åœ¨æˆ–å³å°†è¿‡æœŸï¼ˆæå‰5åˆ†é’Ÿåˆ·æ–°ï¼‰ï¼Œé‡æ–°è·å–
        if (cachedToken == null || currentTime >= (tokenExpiryTime - 300000)) {
            cachedToken = getDpsToken(consumerCode, key);
            tokenExpiryTime = currentTime + 3600000; // 60åˆ†é’Ÿåè¿‡æœŸ
        }
        
        return cachedToken;
    }
}</code></pre>
            </li>
            <li><strong>è¯·æ±‚ç¤ºä¾‹</strong>ï¼š
                <pre><code>{
    "consumerCode": "HYALURONIC_CUSTOMS",
    "key": "your_secret_key_from_dhl"
}</code></pre>
            </li>
            <li><strong>å“åº”ç¤ºä¾‹</strong>ï¼š
                <pre><code>{
    "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
    "token_type": "Bearer",
    "expires_in": 3600,
    "scope": "dps-declaration"
}</code></pre>
            </li>
        </ul>
        <p><strong>æ—¶é—´</strong>ï¼š1å‘¨</p>

        <h3 class="text-xl font-semibold mt-4 mb-2">3. è¿å•æ¨¡å—å¼€å‘</h3>
        <p><strong>ç›®æ ‡</strong>ï¼šå®ç°åˆ¶ä½œè¿å•ã€é¢„çº¦å–ä»¶ã€æŸ¥è¯¢é¢„ä¼°è¿è´¹å’Œå¿«ä»¶è·Ÿè¸ªåŠŸèƒ½ï¼Œè°ƒç”¨MyDHL APIçš„å¤šä¸ªç«¯ç‚¹ã€‚</p>

        <h4 class="text-lg font-semibold mt-4 mb-2">3.1 åç«¯å¼€å‘</h4>
        <p><strong>APIå®¢æˆ·ç«¯è®¾ç½®</strong>ï¼šä½¿ç”¨Java Apache HttpClientåº“ï¼Œé…ç½®å¦‚ä¸‹ç¯å¢ƒURLï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼š<code>https://express.api.dhl.com/mydhlapi/test</code></li>
            <li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼š<code>https://express.api.dhl.com/mydhlapi</code></li>
        </ul>

        <h5 class="text-md font-semibold mt-4 mb-2">3.1.1 åˆ›å»ºè¿å•</h5>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>å®Œæ•´URL</strong>ï¼š<code>https://express.api.dhl.com/mydhlapi/test/shipments</code>ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</li>
            <li><strong>ç”Ÿäº§ç¯å¢ƒURL</strong>ï¼š<code>https://express.api.dhl.com/mydhlapi/shipments</code></li>
            <li><strong>æ–¹æ³•</strong>ï¼š<code>POST</code></li>
            <li>è¯·æ±‚å¤´ï¼š
                <div class="table-container">
                    <table>
                        <tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>æè¿°</th></tr>
                        <tr><td>content-type</td><td>String</td><td>âœ… æ˜¯</td><td>application/json</td></tr>
                        <tr><td>Authorization</td><td>String</td><td>âœ… æ˜¯</td><td>Basic Authå‡­è¯</td></tr>
                        <tr><td>Message-Reference</td><td>String</td><td>âš ï¸ æ¨è</td><td>æ¶ˆæ¯å”¯ä¸€æ ‡è¯†</td></tr>
                    </table>
                </div>
            </li>
            <li><strong>å®Œæ•´Javaå®ç°ç¤ºä¾‹</strong>ï¼š
                <pre><code>import com.fasterxml.jackson.databind.ObjectMapper;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.entity.StringEntity;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClients;
import org.apache.http.util.EntityUtils;
import org.apache.http.HttpResponse;

public class ShipmentService {
    private static final String SHIPMENT_URL = "https://express.api.dhl.com/mydhlapi/test/shipments";
    private DhlApiClient apiClient;
    
    // æ ¹æ®DHLå®˜æ–¹æ–‡æ¡£çš„å®Œæ•´è¯·æ±‚æ•°æ®ç»“æ„
    public class ShipmentRequest {
        public String productCode = "P"; // P=DHL Express Worldwide
        public String localProductCode = "P";
        public String plannedShippingDateAndTime; // æ ¼å¼: "2025-06-10T16:45:00GMT+08:00"
        public PickupInfo pickup;
        public Account[] accounts;
        public ValueAddedService[] valueAddedServices;
        public OutputImageProperties outputImageProperties;
        public CustomerReference[] customerReferences;
        public boolean getOptionalInformation = false;
        public CustomerDetails customerDetails;
        public Content content;
        
        public static class PickupInfo {
            public boolean isRequested = false;
        }
        
        public static class ValueAddedService {
            public String serviceCode; // "WY" = DHLè‡ªå¸¦åŒ…è£…ï¼Œ"II" = ä¿é™©ç­‰
        }
        
        public static class OutputImageProperties {
            public int printerDPI = 300;
            public String encodingFormat = "pdf";
            public ImageOption[] imageOptions;
        }
        
        public static class ImageOption {
            public String typeCode; // "invoice", "waybillDoc", "label"
            public String templateName;
            public String languageCode = "eng";
            public boolean hideAccountNumber = false;
            public int numberOfCopies = 1;
            public boolean isRequested = true;
        }
        
        public static class CustomerReference {
            public String value;
            public String typeCode = "CU"; // Customer Reference
        }
        
        // å®¢æˆ·è¯¦æƒ…éœ€è¦åŒ…å«æ›´å¤šå¿…éœ€å­—æ®µ
        public static class CustomerDetails {
            public PartyDetails shipperDetails;
            public PartyDetails receiverDetails;
            public PartyDetails buyerDetails; // å¯é€‰
            public PartyDetails importerDetails; // å¯é€‰
            public PartyDetails exporterDetails; // å¯é€‰
        }
        
        public static class PartyDetails {
            public PostalAddress postalAddress;
            public ContactInformation contactInformation;
            public RegistrationNumber[] registrationNumbers; // VATç­‰ç¨å·
            public String typeCode = "business"; // "business" or "private"
        }
        
        public static class PostalAddress {
            public String cityName;
            public String countryCode;
            public String postalCode;
            public String addressLine1;
            public String addressLine2;
            public String addressLine3;
        }
        
        public static class ContactInformation {
            public String phone;
            public String mobilePhone;
            public String companyName;
            public String fullName;
            public String email;
        }
        
        public static class RegistrationNumber {
            public String number;
            public String issuerCountryCode;
            public String typeCode; // "VAT", "EOR", "SDT", "IOSS"
        }
        
        public static class Content {
            public ExportDeclaration exportDeclaration;
            public String unitOfMeasurement = "metric";
            public boolean isCustomsDeclarable = true;
            public String incoterm = "DAP";
            public String description;
            public Package[] packages;
            public String declaredValueCurrency = "USD";
            public double declaredValue;
        }
        
        public static class ExportDeclaration {
            public String exportReasonType = "permanent";
            public String placeOfIncoterm;
            public Invoice invoice;
            public Remark[] remarks;
            public String packageMarks;
            public LineItem[] lineItems;
            public CustomsDocument[] customsDocuments;
            public AdditionalCharge[] additionalCharges;
        }
        
        public static class Invoice {
            public String number;
            public String date;
            public String signatureName;
            public String signatureTitle;
            public String signatureImage;
            public CustomerReference[] customerReferences;
        }
        
        public static class LineItem {
            public int number;
            public String description;
            public double price;
            public Quantity quantity;
            public CommodityCode[] commodityCodes;
            public String manufacturerCountry;
            public Weight weight;
            public CustomerReference[] customerReferences;
            public CustomsDocument[] customsDocuments;
        }
        
        public static class Quantity {
            public double value;
            public String unitOfMeasurement = "PCS";
        }
        
        public static class CommodityCode {
            public String typeCode; // "outbound", "inbound"
            public String value; // HSç¼–ç 
        }
        
        public static class Weight {
            public double netValue;
            public double grossValue;
        }
    }
    
    public String createShipment(ShipmentRequest request) throws Exception {
        CloseableHttpClient client = HttpClients.createDefault();
        HttpPost post = new HttpPost(SHIPMENT_URL);
        
        // è®¾ç½®è¯·æ±‚å¤´
        post.setHeaders(apiClient.getCommonHeaders());
        
        // è®¾ç½®è¯·æ±‚ä½“
        ObjectMapper mapper = new ObjectMapper();
        String requestJson = mapper.writeValueAsString(request);
        post.setEntity(new StringEntity(requestJson, "UTF-8"));
        
        HttpResponse response = client.execute(post);
        String responseBody = EntityUtils.toString(response.getEntity());
        
        return responseBody;
    }
}</code></pre>
            </li>
            <li><strong>åç†™ç”Ÿç‰©å®é™…ä¸šåŠ¡è¯·æ±‚ç¤ºä¾‹</strong>ï¼š
                <pre><code>{
    "productCode": "P",
    "localProductCode": "P",
    "plannedShippingDateAndTime": "2025-06-10T16:45:00GMT+08:00",
    "pickup": {
        "isRequested": false
    },
    "accounts": [
        {
            "number": "123456789",
            "typeCode": "shipper"
        }
    ],
    "valueAddedServices": [
        {
            "serviceCode": "WY"
        }
    ],
    "outputImageProperties": {
        "printerDPI": 300,
        "encodingFormat": "pdf",
        "imageOptions": [
            {
                "typeCode": "invoice",
                "templateName": "COMMERCIAL_INVOICE_P_10",
                "languageCode": "eng",
                "isRequested": true
            },
            {
                "typeCode": "waybillDoc",
                "hideAccountNumber": false,
                "templateName": "ARCH_8X4",
                "numberOfCopies": 1,
                "isRequested": true
            },
            {
                "typeCode": "label",
                "templateName": "ECOM26_84_001"
            }
        ]
    },
    "customerReferences": [
        {
            "value": "HYALURONIC-2025-001",
            "typeCode": "CU"
        }
    ],
    "getOptionalInformation": false,
    "customerDetails": {
        "shipperDetails": {
            "postalAddress": {
                "cityName": "SHANGHAI",
                "countryCode": "CN",
                "postalCode": "200000",
                "addressLine1": "åç†™ç”Ÿç‰©ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸",
                "addressLine2": "é»„æµ¦åŒºæ·®æµ·è·¯123å·",
                "addressLine3": "1å·æ¥¼603å®¤"
            },
            "contactInformation": {
                "phone": "8621-12345678",
                "mobilePhone": "13800138000",
                "companyName": "åç†™ç”Ÿç‰©ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸",
                "fullName": "å¼ ç»ç†",
                "email": "export@hyaluronic.com"
            },
            "registrationNumbers": [
                {
                    "number": "VAT123456789",
                    "issuerCountryCode": "CN",
                    "typeCode": "VAT"
                }
            ],
            "typeCode": "business"
        },
        "receiverDetails": {
            "postalAddress": {
                "cityName": "NEW YORK",
                "countryCode": "US",
                "postalCode": "10001",
                "addressLine1": "ABC Beauty Company",
                "addressLine2": "123 Main Street",
                "addressLine3": "Suite 456"
            },
            "contactInformation": {
                "phone": "12125550123",
                "mobilePhone": "19175550123",
                "companyName": "ABC Beauty Company",
                "fullName": "John Smith",
                "email": "import@abcbeauty.com"
            },
            "registrationNumbers": [
                {
                    "issuerCountryCode": "US",
                    "number": "US123456789",
                    "typeCode": "EIN"
                }
            ],
            "typeCode": "business"
        }
    },
    "content": {
        "exportDeclaration": {
            "exportReasonType": "permanent",
            "placeOfIncoterm": "SHANGHAI",
            "invoice": {
                "number": "HY-INV-2025-001",
                "date": "2025-06-07",
                "signatureName": "å¼ ç»ç†",
                "signatureTitle": "å‡ºå£éƒ¨ç»ç†"
            },
            "remarks": [
                {
                    "value": "é€æ˜è´¨é…¸é’ å‡èƒ¶ï¼ŒåŒ»ç”¨çº§åˆ«"
                },
                {
                    "value": "è¯·ä¿æŒå¹²ç‡¥ï¼Œé¿å…é«˜æ¸©"
                }
            ],
            "packageMarks": "HYALURONIC ACID GEL - MEDICAL GRADE",
            "lineItems": [
                {
                    "number": 1,
                    "description": "é€æ˜è´¨é…¸é’ å‡èƒ¶æ³¨å°„å‰‚",
                    "price": 500.00,
                    "quantity": {
                        "value": 10,
                        "unitOfMeasurement": "PCS"
                    },
                    "commodityCodes": [
                        {
                            "typeCode": "outbound",
                            "value": "3824.99.9990"
                        },
                        {
                            "typeCode": "inbound",
                            "value": "3824.99.9990"
                        }
                    ],
                    "manufacturerCountry": "CN",
                    "weight": {
                        "netValue": 0.5,
                        "grossValue": 0.6
                    }
                }
            ]
        },
        "unitOfMeasurement": "metric",
        "isCustomsDeclarable": true,
        "incoterm": "DAP",
        "description": "é€æ˜è´¨é…¸é’ å‡èƒ¶åŒ»ç–—äº§å“",
        "packages": [
            {
                "customerReferences": [
                    {
                        "value": "PKG-001",
                        "typeCode": "CU"
                    }
                ],
                "weight": 5.0,
                "dimensions": {
                    "length": 30,
                    "width": 20,
                    "height": 15
                }
            }
        ],
        "declaredValueCurrency": "USD",
        "declaredValue": 5000.00
    }
}</code></pre>
            </li>
            <li><strong>DHLå®˜æ–¹å“åº”ç¤ºä¾‹</strong>ï¼š
                <pre><code>{
    "shipmentTrackingNumber": "1234567890",
    "trackingUrl": "https://express.api.dhl.com/mydhlapi/shipments/1234567890/tracking",
    "packages": [
        {
            "referenceNumber": 1,
            "trackingNumber": "JD014612345535416785",
            "trackingUrl": "https://express.api.dhl.com/mydhlapi/shipments/1234567890/tracking?pieceTrackingNumber=JD014612345535416785"
        }
    ],
    "documents": [
        {
            "imageFormat": "PDF",
            "content": "base64ç¼–ç çš„PDFå†…å®¹",
            "typeCode": "label"
        },
        {
            "imageFormat": "PDF",
            "content": "base64ç¼–ç çš„PDFå†…å®¹",
            "typeCode": "invoice"
        }
    ],
    "warnings": []
}</code></pre>
            </li>
            <li><strong>å“åº”å¤„ç†è¦ç‚¹</strong>ï¼š
                <ul class="list-disc pl-6 mt-2">
                    <li>æå–è¿å•å·ï¼š<code>shipmentTrackingNumber</code></li>
                    <li>ä¿å­˜PDFæ–‡æ¡£ï¼šè§£ç <code>documents</code>ä¸­çš„base64å†…å®¹</li>
                    <li>å¤„ç†è­¦å‘Šä¿¡æ¯ï¼šæ£€æŸ¥<code>warnings</code>æ•°ç»„</li>
                    <li>åŒ…è£¹è·Ÿè¸ªï¼šä¿å­˜æ¯ä¸ªåŒ…è£¹çš„ç‹¬ç«‹è·Ÿè¸ªå·</li>
                </ul>
            </li>
        </ul>

        <h5 class="text-md font-semibold mt-4 mb-2">3.1.2 é¢„çº¦å–ä»¶</h5>
        <ul class="list-disc pl-6 mb-4">
            <li>ç«¯ç‚¹ï¼š<code>POST /pickup-requests</code></li>
            <li>è¯·æ±‚å¤´ï¼šåŒåˆ›å»ºè¿å•ã€‚</li>
            <li>è¯·æ±‚ä½“ï¼š
                <table class="w-full border-collapse border mb-4">
                    <tr class="bg-gray-200"><th class="border p-2">å­—æ®µ</th><th class="border p-2">ç±»å‹</th><th class="border p-2">å¿…å¡«</th><th class="border p-2">æè¿°</th></tr>
                    <tr><td>pickupDetails</td><td>Object</td><td>æ˜¯</td><td>å–ä»¶åœ°å€å’Œè”ç³»äºº</td></tr>
                    <tr><td>plannedPickupDateAndTime</td><td>String</td><td>æ˜¯</td><td>å–ä»¶æ—¶é—´ï¼ˆISO 8601æ ¼å¼ï¼‰</td></tr>
                    <tr><td>accounts</td><td>Array</td><td>æ˜¯</td><td>æ”¯ä»˜è´¦æˆ·</td></tr>
                    <tr><td>shipmentReferences</td><td>Array</td><td>å¯é€‰</td><td>å…³è”è¿å•å·</td></tr>
                </table>
            </li>
            <li>è¯·æ±‚ä½“ç¤ºä¾‹ï¼š
                <pre><code>{
    "pickupDetails": {
        "postalAddress": {
            "countryCode": "CN",
            "postalCode": "200000",
            "cityName": "Shanghai",
            "addressLine1": "123 Example Street"
        },
        "contactInformation": {
            "fullName": "John Doe",
            "phone": "+861234567890"
        }
    },
    "plannedPickupDateAndTime": "2025-06-10T09:00:00+08:00",
    "accounts": [
        {
            "typeCode": "shipper",
            "number": "123456"
        }
    ],
    "shipmentReferences": [
        {
            "value": "7902324220",
            "typeCode": "shipmentTrackingNumber"
        }
    ]
}</code></pre>
            </li>
            <li>å“åº”ï¼šè¿”å›å–ä»¶ç¡®è®¤å·å’ŒçŠ¶æ€ã€‚</li>
            <li>å®ç°ï¼šè‹¥è¿å•åˆ›å»ºæ—¶æœªåŒ…å«å–ä»¶ä¿¡æ¯ï¼Œè°ƒç”¨æ­¤ç«¯ç‚¹ï¼›ç¡®ä¿æ—¶é—´æ ¼å¼ç¬¦åˆISO 8601ã€‚</li>
        </ul>

        <h5 class="text-md font-semibold mt-4 mb-2">3.1.3 æŸ¥è¯¢é¢„ä¼°è¿è´¹</h5>
        <ul class="list-disc pl-6 mb-4">
            <li>ç«¯ç‚¹ï¼š<code>POST /rates</code>ï¼ˆå¤æ‚è´§ä»¶ï¼‰æˆ–<code>GET /rates</code>ï¼ˆç®€å•è´§ä»¶ï¼‰</li>
            <li>è¯·æ±‚å¤´ï¼šåŒåˆ›å»ºè¿å•ã€‚</li>
            <li>è¯·æ±‚ä½“ï¼ˆPOSTï¼‰ï¼š
                <table class="w-full border-collapse border mb-4">
                    <tr class="bg-gray-200"><th class="border p-2">å­—æ®µ</th><th class="border p-2">ç±»å‹</th><th class="border p-2">å¿…å¡«</th><th class="border p-2">æè¿°</th></tr>
                    <tr><td>customerDetails</td><td>Object</td><td>æ˜¯</td><td>å‘è´§äºº/æ”¶è´§äººä¿¡æ¯</td></tr>
                    <tr><td>accounts</td><td>Array</td><td>æ˜¯</td><td>æ”¯ä»˜è´¦æˆ·</td></tr>
                    <tr><td>packages</td><td>Array</td><td>æ˜¯</td><td>åŒ…è£¹è¯¦æƒ…</td></tr>
                    <tr><td>plannedShippingDateAndTime</td><td>String</td><td>æ˜¯</td><td>è®¡åˆ’å‘è´§æ—¶é—´</td></tr>
                </table>
            </li>
            <li>è¯·æ±‚ä½“ç¤ºä¾‹ï¼ˆPOSTï¼‰ï¼š
                <pre><code>{
    "customerDetails": {
        "shipperDetails": {
            "countryCode": "CN",
            "postalCode": "200000",
            "cityName": "Shanghai"
        },
        "receiverDetails": {
            "countryCode": "US",
            "postalCode": "10001",
            "cityName": "New York"
        }
    },
    "accounts": [
        {
            "typeCode": "shipper",
            "number": "123456"
        }
    ],
    "packages": [
        {
            "weight": 5.0,
            "dimensions": {
                "length": 30.0,
                "width": 20.0,
                "height": 15.0
            }
        }
    ],
    "plannedShippingDateAndTime": "2025-06-10T09:00:00+08:00",
    "unitOfMeasurement": "metric",
    "isCustomsDeclarable": true
}</code></pre>
            </li>
            <li>GETè¯·æ±‚ç¤ºä¾‹ï¼š
                <pre><code>GET /rates?shipperCountryCode=CN&shipperPostalCode=200000&receiverCountryCode=US&receiverPostalCode=10001&weight=5.0&length=30.0&width=20.0&height=15.0&unitOfMeasurement=metric&isCustomsDeclarable=true</code></pre>
            </li>
            <li>å“åº”ï¼šè¿”å›å¯ç”¨æœåŠ¡å’Œé¢„ä¼°è´¹ç”¨åˆ—è¡¨ã€‚</li>
            <li>å®ç°ï¼šä¼˜å…ˆä½¿ç”¨POSTç«¯ç‚¹å¤„ç†å¤æ‚è´§ä»¶ï¼›è§£æå“åº”ä¸­çš„æœåŠ¡ä»£ç å’Œè´¹ç”¨ã€‚</li>
        </ul>

        <h5 class="text-md font-semibold mt-4 mb-2">3.1.4 å¿«ä»¶è·Ÿè¸ª</h5>
        <ul class="list-disc pl-6 mb-4">
            <li>ç«¯ç‚¹ï¼š<code>GET /track/shipments</code></li>
            <li>è¯·æ±‚å‚æ•°ï¼š
                <table class="w-full border-collapse border mb-4">
                    <tr class="bg-gray-200"><th class="border p-2">å­—æ®µ</th><th class="border p-2">ç±»å‹</th><th class="border p-2">å¿…å¡«</th><th class="border p-2">æè¿°</th></tr>
                    <tr><td>trackingNumber</td><td>String</td><td>æ˜¯</td><td>è¿å•å·</td></tr>
                    <tr><td>language</td><td>String</td><td>å¯é€‰</td><td>å“åº”è¯­è¨€ï¼ˆé»˜è®¤enï¼‰</td></tr>
                </table>
            </li>
            <li>è¯·æ±‚ç¤ºä¾‹ï¼š
                <pre><code>GET /track/shipments?trackingNumber=7902324220&language=zh</code></pre>
            </li>
            <li>å“åº”ç¤ºä¾‹ï¼š
                <pre><code>{
    "shipments": [
        {
            "trackingNumber": "7902324220",
            "status": "In Transit",
            "events": [
                {
                    "date": "2025-06-10T10:00:00+08:00",
                    "description": "Picked up",
                    "location": "Shanghai, CN"
                },
                {
                    "date": "2025-06-11T12:00:00+08:00",
                    "description": "In transit",
                    "location": "Hong Kong, HK"
                }
            ]
        }
    ]
}</code></pre>
            </li>
            <li>å®ç°ï¼šè§£æè·Ÿè¸ªäº‹ä»¶ï¼Œæå–çŠ¶æ€ã€æ—¶é—´å’Œåœ°ç‚¹ä¿¡æ¯ã€‚</li>
        </ul>
        <p><strong>å…³é”®æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>å¿…éœ€å­—æ®µéªŒè¯</strong>ï¼šç¡®ä¿æ‰€æœ‰å¿…å¡«å­—æ®µéƒ½æœ‰å€¼ï¼Œç‰¹åˆ«æ˜¯åœ°å€ã€è”ç³»ä¿¡æ¯å’Œç¨å·</li>
            <li><strong>æ ¼å¼è¦æ±‚</strong>ï¼šæ—¶é—´æ ¼å¼å¿…é¡»ä¸º<code>YYYY-MM-DDTHH:MM:SSGMT+TZ</code></li>
            <li><strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šæ˜ç¡®æŒ‡å®šéœ€è¦çš„æ–‡æ¡£ç±»å‹ï¼ˆæ ‡ç­¾ã€å‘ç¥¨ã€è¿å•ï¼‰</li>
            <li><strong>è´§å¸ä»£ç </strong>ï¼šä½¿ç”¨æ ‡å‡†çš„ISO 4217è´§å¸ä»£ç </li>
            <li><strong>å•†å“ç¼–ç </strong>ï¼šä½¿ç”¨å‡†ç¡®çš„HSç¼–ç ï¼ŒåŒºåˆ†å‡ºå¢ƒå’Œå…¥å¢ƒç¼–ç </li>
        </ul>
        <p><strong>æ—¶é—´</strong>ï¼š5å‘¨ï¼ˆJava APIå®¢æˆ·ç«¯å°è£…1.5å‘¨ï¼Œåˆ›å»ºè¿å•1.5å‘¨ï¼Œé¢„çº¦å–ä»¶0.5å‘¨ï¼Œè¿è´¹æŸ¥è¯¢0.5å‘¨ï¼Œè·Ÿè¸ª0.5å‘¨ï¼Œä¼˜åŒ–å’Œé”™è¯¯å¤„ç†0.5å‘¨ï¼‰</p>

        <h4 class="text-lg font-semibold mt-4 mb-2">3.2 å‰ç«¯å¼€å‘</h4>
        <p><strong>ç”¨æˆ·ç•Œé¢è®¾è®¡</strong>ï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>è¿å•åˆ›å»º</strong>ï¼šè¡¨å•åŒ…å«å‘è´§äºº/æ”¶è´§äººä¿¡æ¯ã€åŒ…è£¹è¯¦æƒ…ã€äº§å“ä»£ç ã€‚</li>
            <li><strong>é¢„çº¦å–ä»¶</strong>ï¼šè¾“å…¥å–ä»¶æ—¶é—´ã€åœ°å€å’Œè”ç³»äººï¼Œæ”¯æŒå…³è”è¿å•å·ã€‚</li>
            <li><strong>è¿è´¹æŸ¥è¯¢</strong>ï¼šè¾“å…¥è´§ä»¶ä¿¡æ¯ï¼Œæ˜¾ç¤ºå¯ç”¨æœåŠ¡å’Œè´¹ç”¨ã€‚</li>
            <li><strong>è·Ÿè¸ªæŸ¥è¯¢</strong>ï¼šè¾“å…¥è¿å•å·ï¼Œæ˜¾ç¤ºè·Ÿè¸ªçŠ¶æ€å’Œäº‹ä»¶æ—¶é—´çº¿ã€‚</li>
        </ul>
        <p><strong>ä¸åç«¯é›†æˆ</strong>ï¼šä½¿ç”¨AJAXè°ƒç”¨åç«¯APIï¼Œæ˜¾ç¤ºè¿å•å·ã€å–ä»¶ç¡®è®¤ã€è¿è´¹ä¼°ç®—å’Œè·Ÿè¸ªä¿¡æ¯ã€‚</p>
        <p><strong>ç¤ºä¾‹å‰ç«¯ä»£ç </strong>ï¼š</p>
        <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;è¿å•æ¨¡å—å‰ç«¯&lt;/title&gt;
    &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;
    &lt;script src="https://code.jquery.com/jquery-3.6.0.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body class="bg-gray-100 p-6"&gt;
    &lt;div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow"&gt;
        &lt;h1 class="text-2xl font-bold mb-4"&gt;è¿å•ç®¡ç†&lt;/h1&gt;
        &lt;!-- è¿å•åˆ›å»º --&gt;
        &lt;div class="mb-6"&gt;
            &lt;h2 class="text-xl font-semibold mb-2"&gt;åˆ›å»ºè¿å•&lt;/h2&gt;
            &lt;div class="grid grid-cols-2 gap-4"&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;å‘è´§äººé‚®ç¼–&lt;/label&gt;
                    &lt;input id="shipperPostalCode" type="text" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;æ”¶è´§äººé‚®ç¼–&lt;/label&gt;
                    &lt;input id="receiverPostalCode" type="text" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;åŒ…è£¹é‡é‡ (kg)&lt;/label&gt;
                    &lt;input id="weight" type="number" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;äº§å“ä»£ç &lt;/label&gt;
                    &lt;input id="productCode" type="text" class="mt-1 block w-full border rounded p-2" value="P"&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;button id="createShipment" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded"&gt;åˆ›å»ºè¿å•&lt;/button&gt;
            &lt;div id="shipmentResult" class="mt-4"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- é¢„çº¦å–ä»¶ --&gt;
        &lt;div class="mb-6"&gt;
            &lt;h2 class="text-xl font-semibold mb-2"&gt;é¢„çº¦å–ä»¶&lt;/h2&gt;
            &lt;div class="grid grid-cols-2 gap-4"&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;å–ä»¶åœ°å€&lt;/label&gt;
                    &lt;input id="pickupAddress" type="text" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;å–ä»¶æ—¶é—´&lt;/label&gt;
                    &lt;input id="pickupTime" type="datetime-local" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;button id="schedulePickup" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded"&gt;é¢„çº¦å–ä»¶&lt;/button&gt;
            &lt;div id="pickupResult" class="mt-4"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- è¿è´¹æŸ¥è¯¢ --&gt;
        &lt;div class="mb-6"&gt;
            &lt;h2 class="text-xl font-semibold mb-2"&gt;æŸ¥è¯¢è¿è´¹&lt;/h2&gt;
            &lt;div class="grid grid-cols-2 gap-4"&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;å‘è´§äººé‚®ç¼–&lt;/label&gt;
                    &lt;input id="rateShipperPostalCode" type="text" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;label class="block text-sm font-medium"&gt;æ”¶è´§äººé‚®ç¼–&lt;/label&gt;
                    &lt;input id="rateReceiverPostalCode" type="text" class="mt-1 block w-full border rounded p-2"&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;button id="getRates" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded"&gt;æŸ¥è¯¢è¿è´¹&lt;/button&gt;
            &lt;div id="rateResult" class="mt-4"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;!-- è·Ÿè¸ªæŸ¥è¯¢ --&gt;
        &lt;div&gt;
            &lt;h2 class="text-xl font-semibold mb-2"&gt;å¿«ä»¶è·Ÿè¸ª&lt;/h2&gt;
            &lt;div&gt;
                &lt;label class="block text-sm font-medium"&gt;è¿å•å·&lt;/label&gt;
                &lt;input id="trackingNumber" type="text" class="mt-1 block w-full border rounded p-2"&gt;
            &lt;/div&gt;
            &lt;button id="trackShipment" class="mt-4 bg-blue-500 text-white px-4 py-2 rounded"&gt;æŸ¥è¯¢è·Ÿè¸ª&lt;/button&gt;
            &lt;div id="trackResult" class="mt-4"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script&gt;
        // åˆ›å»ºè¿å•
        $('#createShipment').click(function() {
            const data = {
                customerDetails: {
                    shipperDetails: { postalCode: $('#shipperPostalCode').val(), countryCode: 'CN', cityName: 'Shanghai' },
                    receiverDetails: { postalCode: $('#receiverPostalCode').val(), countryCode: 'US', cityName: 'New York' }
                },
                accounts: [{ typeCode: 'shipper', number: '123456' }],
                content: {
                    declaredValue: 100.00,
                    isCustomsDeclarable: true,
                    unitOfMeasurement: 'metric',
                    packages: [{ weight: parseFloat($('#weight').val()), dimensions: { length: 30.0, width: 20.0, height: 15.0 } }],
                    productCode: $('#productCode').val()
                }
            };
            $.ajax({
                url: '/api/shipments',
                method: 'POST',
                headers: { 'Authorization': 'Basic REPLACE_BASIC_AUTH', 'content-type': 'application/json' },
                data: JSON.stringify(data),
                success: function(response) {
                    $('#shipmentResult').html(`è¿å•å·: ${response.shipmentTrackingNumber}`);
                },
                error: function(xhr) {
                    $('#shipmentResult').html(`é”™è¯¯: ${xhr.responseText}`);
                }
            });
        });
        // é¢„çº¦å–ä»¶
        $('#schedulePickup').click(function() {
            const data = {
                pickupDetails: {
                    postalAddress: {
                        countryCode: 'CN',
                        postalCode: '200000',
                        cityName: 'Shanghai',
                        addressLine1: $('#pickupAddress').val()
                    },
                    contactInformation: {
                        fullName: 'John Doe',
                        phone: '+861234567890'
                    }
                },
                plannedPickupDateAndTime: $('#pickupTime').val() + ':00+08:00',
                accounts: [{ typeCode: 'shipper', number: '123456' }]
            };
            $.ajax({
                url: '/api/pickup-requests',
                method: 'POST',
                headers: { 'Authorization': 'Basic REPLACE_BASIC_AUTH', 'content-type': 'application/json' },
                data: JSON.stringify(data),
                success: function(response) {
                    $('#pickupResult').html(`å–ä»¶ç¡®è®¤å·: ${response.pickupConfirmationNumber}`);
                },
                error: function(xhr) {
                    $('#pickupResult').html(`é”™è¯¯: ${xhr.responseText}`);
                }
            });
        });
        // æŸ¥è¯¢è¿è´¹
        $('#getRates').click(function() {
            const data = {
                customerDetails: {
                    shipperDetails: { postalCode: $('#rateShipperPostalCode').val(), countryCode: 'CN', cityName: 'Shanghai' },
                    receiverDetails: { postalCode: $('#rateReceiverPostalCode').val(), countryCode: 'US', cityName: 'New York' }
                },
                accounts: [{ typeCode: 'shipper', number: '123456' }],
                packages: [{ weight: 5.0, dimensions: { length: 30.0, width: 20.0, height: 15.0 } }],
                plannedShippingDateAndTime: '2025-06-10T09:00:00+08:00',
                unitOfMeasurement: 'metric',
                isCustomsDeclarable: true
            };
            $.ajax({
                url: '/api/rates',
                method: 'POST',
                headers: { 'Authorization': 'Basic REPLACE_BASIC_AUTH', 'content-type': 'application/json' },
                data: JSON.stringify(data),
                success: function(response) {
                    const rates = response.rates.map(r => `${r.serviceCode}: ${r.totalPrice} ${r.currency}`).join('<br>');
                    $('#rateResult').html(`è¿è´¹ä¼°ç®—:<br>${rates}`);
                },
                error: function(xhr) {
                    $('#rateResult').html(`é”™è¯¯: ${xhr.responseText}`);
                }
            });
        });
        // å¿«ä»¶è·Ÿè¸ª
        $('#trackShipment').click(function() {
            $.ajax({
                url: `/api/track/shipments?trackingNumber=${$('#trackingNumber').val()}&language=zh`,
                method: 'GET',
                headers: { 'Authorization': 'Basic REPLACE_BASIC_AUTH' },
                success: function(response) {
                    const events = response.shipments[0].events.map(e => `${e.date}: ${e.description} (${e.location})`).join('<br>');
                    $('#trackResult').html(`è·Ÿè¸ªçŠ¶æ€: ${response.shipments[0].status}<br>äº‹ä»¶:<br>${events}`);
                },
                error: function(xhr) {
                    $('#trackResult').html(`é”™è¯¯: ${xhr.responseText}`);
                }
            });
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
        <p><strong>æ—¶é—´</strong>ï¼š3å‘¨ï¼ˆç•Œé¢è®¾è®¡1å‘¨ï¼Œé›†æˆ2å‘¨ï¼‰</p>

        <h3 class="text-xl font-semibold mt-4 mb-2">4. ç”³æŠ¥å•æ¨¡å—å¼€å‘</h3>
        <p><strong>ç›®æ ‡</strong>ï¼šæ¨é€å…³åŠ¡ç³»ç»ŸæŠ¥å…³å•æ•°æ®è‡³DHLã€‚</p>

        <h4 class="text-lg font-semibold mt-4 mb-2">4.1 åç«¯å¼€å‘</h4>
        <p><strong>ä¸Šä¼ é™„ä»¶</strong>ï¼š</p>
        <ul class="list-disc pl-6 mb-4">
            <li>ç«¯ç‚¹ï¼š<code>POST /dps-declaration-api/api/declare/upload-file</code></li>
            <li>è¯·æ±‚å¤´ï¼š
                <table class="w-full border-collapse border mb-4">
                    <tr class="bg-gray-200"><th class="border p-2">å­—æ®µ</th><th class="border p-2">ç±»å‹</th><th class="border p-2">å¿…å¡«</th><th class="border p-2">æè¿°</th></tr>
                    <tr><td>x-request-id</td><td>String</td><td>æ˜¯</td><td>GUIDæˆ–UUID</td></tr>
                    <tr><td>Authorization</td><td>String</td><td>æ˜¯</td><td>DPS Token</td></tr>
                </table>
            </li>
        </ul>
        <p><strong>æäº¤ç”³æŠ¥</strong>ï¼š
            <pre><code>{
    "decMessage": {
        "decHead": {
            "contrNo": "112212",
            "grossWet": "0.50000",
            "netWt": "0.40000",
            "iEFlag": "E"
        },
        "decLists": {
            "decList": [
                {
                    "codeTs": "1202420000",
                    "gName": "å…¶ä»–å»å£³èŠ±ç”Ÿ",
                    "declPrice": "100.00000",
                    "gQty": "10.00000"
                }
            ]
        },
        "msgHead": {
            "action": "A",
            "awbNo": "7902324220",
            "declareType": "D"
        }
    }
}</code></pre>
        </p>
        <p><strong>æ—¶é—´</strong>ï¼š2å‘¨</p>

        <h4 class="text-lg font-semibold mt-4 mb-2">4.2 å‰ç«¯å¼€å‘</h4>
        <p>æä¾›ç”³æŠ¥å•æäº¤å’Œé™„ä»¶ä¸Šä¼ ç•Œé¢ï¼Œæ˜¾ç¤ºæäº¤çŠ¶æ€ã€‚</p>
        <p><strong>æ—¶é—´</strong>ï¼š1å‘¨</p>

        <h3 class="text-xl font-semibold mt-4 mb-2">5. æµ‹è¯•ä¸éƒ¨ç½²</h3>
        <ul class="list-disc pl-6 mb-4">
            <li><strong>å•å…ƒæµ‹è¯•</strong>ï¼šæµ‹è¯•APIè°ƒç”¨ã€‚</li>
            <li><strong>é›†æˆæµ‹è¯•</strong>ï¼šéªŒè¯å®Œæ•´æµç¨‹ã€‚</li>
            <li><strong>ç”¨æˆ·éªŒæ”¶æµ‹è¯•</strong>ï¼šä¸åç†™ç”Ÿç‰©å…±åŒæµ‹è¯•ã€‚</li>
            <li><strong>éƒ¨ç½²</strong>ï¼šé…ç½®ç”Ÿäº§ç¯å¢ƒï¼Œè®¾ç½®ç›‘æ§ã€‚</li>
        </ul>
        <p><strong>æ—¶é—´</strong>ï¼š3å‘¨</p>

        <h3 class="text-2xl font-semibold mt-8 mb-6 text-blue-600" id="timeline">ğŸ“… å¼€å‘æ—¶é—´è¡¨</h3>
        <div class="table-container">
            <table>
                <tr><th>é˜¶æ®µ</th><th>æ—¶é—´</th><th>å…³é”®äº§å‡º</th></tr>
                <tr><td>ğŸ”§ å‡†å¤‡é˜¶æ®µ</td><td>1å‘¨</td><td>APIæ–‡æ¡£ã€å¼€å‘ç¯å¢ƒ</td></tr>
                <tr><td>ğŸ” è®¤è¯å®ç°</td><td>1å‘¨</td><td>è®¤è¯æ¨¡å—ã€Tokenç®¡ç†</td></tr>
                <tr><td>ğŸ“¦ è¿å•æ¨¡å—ï¼ˆåç«¯+å‰ç«¯ï¼‰</td><td>8å‘¨</td><td>å®Œæ•´è¿å•åŠŸèƒ½</td></tr>
                <tr><td>ğŸ“‹ ç”³æŠ¥å•æ¨¡å—ï¼ˆåç«¯+å‰ç«¯ï¼‰</td><td>3å‘¨</td><td>ç”³æŠ¥æäº¤åŠŸèƒ½</td></tr>
                <tr><td>ğŸ§ª æµ‹è¯•ä¸éƒ¨ç½²</td><td>3å‘¨</td><td>ç”Ÿäº§ç¯å¢ƒå°±ç»ª</td></tr>
                <tr class="bg-blue-50"><td><strong>ğŸ¯ æ€»è®¡</strong></td><td><strong>12-14å‘¨</strong></td><td><strong>å®Œæ•´ç³»ç»Ÿ</strong></td></tr>
            </table>
        </div>

        <h3 class="text-2xl font-semibold mt-8 mb-6 text-blue-600" id="security">ğŸ”’ å®‰å…¨ä¸æ€§èƒ½</h3>
        <div class="highlight-box mb-6">
            <h4 class="font-semibold text-gray-800 mb-3">âš ï¸ é‡è¦æŠ€æœ¯è¦æ±‚</h4>
            <ul class="list-disc pl-6 space-y-2">
                <li><strong>APIç‰ˆæœ¬å…¼å®¹æ€§</strong>ï¼šç¡®ä¿ä½¿ç”¨DHLæœ€æ–°çš„APIç‰ˆæœ¬ï¼Œé¿å…åºŸå¼ƒæ¥å£</li>
                <li><strong>é”™è¯¯å¤„ç†æœºåˆ¶</strong>ï¼šå®Œå–„çš„HTTPçŠ¶æ€ç å¤„ç†å’Œä¸šåŠ¡é”™è¯¯å“åº”è§£æ</li>
                <li><strong>é‡è¯•æœºåˆ¶</strong>ï¼šç½‘ç»œå¼‚å¸¸æ—¶çš„æŒ‡æ•°é€€é¿é‡è¯•ç­–ç•¥</li>
                <li><strong>æ—¥å¿—è®°å½•</strong>ï¼šè¯¦ç»†è®°å½•æ‰€æœ‰APIè°ƒç”¨å’Œå“åº”ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥</li>
                <li><strong>æ•°æ®éªŒè¯</strong>ï¼šä¸¥æ ¼éªŒè¯æ‰€æœ‰è¾“å…¥å‚æ•°ï¼Œé˜²æ­¢æ— æ•ˆè¯·æ±‚</li>
            </ul>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="bg-red-50 p-6 rounded-lg border-l-4 border-red-500">
                <h4 class="font-semibold text-red-800 mb-2">ğŸ›¡ï¸ å®‰å…¨æªæ–½</h4>
                <ul class="text-red-700 space-y-1">
                    <li>â€¢ åŠ å¯†å­˜å‚¨å‡­è¯</li>
                    <li>â€¢ ä½¿ç”¨HTTPSï¼ˆTLS 1.2+ï¼‰</li>
                    <li>â€¢ Tokenæœ‰æ•ˆæœŸç®¡ç†</li>
                </ul>
            </div>
            <div class="bg-yellow-50 p-6 rounded-lg border-l-4 border-yellow-500">
                <h4 class="font-semibold text-yellow-800 mb-2">âš¡ æ€§èƒ½ä¼˜åŒ–</h4>
                <ul class="text-yellow-700 space-y-1">
                    <li>â€¢ APIé€Ÿç‡é™åˆ¶ç›‘æ§</li>
                    <li>â€¢ æ•°æ®å¤„ç†ä¼˜åŒ–</li>
                    <li>â€¢ ç¼“å­˜æœºåˆ¶è®¾è®¡</li>
                </ul>
            </div>
        </div>

        <h3 class="text-2xl font-semibold mt-8 mb-6 text-blue-600">ğŸ“š å…³é”®å¼•ç”¨</h3>
        <div class="highlight-box mb-6">
            <h4 class="font-semibold text-gray-800 mb-3">ğŸ” æ£€æŸ¥å‘ç°çš„ä¸»è¦é—®é¢˜</h4>
            <ul class="list-disc pl-6 space-y-2 text-sm">
                <li><strong>ç¼ºå¤±å­—æ®µ</strong>ï¼šåŸæ–¹æ¡ˆç¼ºå°‘å¿…éœ€çš„outputImagePropertiesã€valueAddedServicesç­‰å­—æ®µ</li>
                <li><strong>æ•°æ®ç»“æ„ä¸å®Œæ•´</strong>ï¼šç¼ºå°‘è¯¦ç»†çš„å•†å“ä¿¡æ¯ã€æµ·å…³ç”³æŠ¥ç­‰å¿…éœ€ç»“æ„</li>
                <li><strong>æ—¶é—´æ ¼å¼é”™è¯¯</strong>ï¼šDHLè¦æ±‚GMTæ—¶åŒºæ ¼å¼ï¼Œä¸æ˜¯ç®€å•çš„ISO 8601</li>
                <li><strong>è®¤è¯å®ç°ç®€åŒ–</strong>ï¼šDPS Tokenç®¡ç†éœ€è¦è€ƒè™‘è‡ªåŠ¨åˆ·æ–°æœºåˆ¶</li>
                <li><strong>å“åº”å¤„ç†ä¸å®Œæ•´</strong>ï¼šç¼ºå°‘å¯¹DHLè¿”å›æ–‡æ¡£çš„base64è§£ç å¤„ç†</li>
                <li><strong>ä¸šåŠ¡å­—æ®µæ˜ å°„</strong>ï¼šåç†™ç”Ÿç‰©çš„å…·ä½“äº§å“ä¿¡æ¯éœ€è¦å‡†ç¡®çš„HSç¼–ç </li>
            </ul>
        </div>
        <div class="bg-gray-50 p-6 rounded-lg">
            <ul class="space-y-3">
                <li class="flex items-center"><span class="text-blue-500 mr-2">ğŸ“„</span> DPS DECLARATION API v1.2.7 Documentation</li>
                <li class="flex items-center"><span class="text-blue-500 mr-2">ğŸ“–</span> DHL Online Declaration API Usage Guide v1.3</li>
                <li class="flex items-center"><span class="text-blue-500 mr-2">ğŸ“‹</span> MyDHL API REST Developer Manual 202203</li>
                <li class="flex items-center"><span class="text-blue-500 mr-2">ğŸŒ</span> <a href="https://developer.dhl.com/api-reference/dhl-express-mydhl-api-reference-docs-section/" class="text-blue-600 hover:text-blue-800 underline">DHL Developer Portal</a></li>
            </ul>
        </div>
        
        <div class="mt-12 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border">
            <p class="text-center text-gray-600 text-sm">ğŸ“ æ–‡æ¡£æœ€åæ›´æ–°ï¼š2025å¹´6æœˆ | ğŸ¢ åç†™ç”Ÿç‰©å…³åŠ¡ç³»ç»Ÿé›†æˆæ–¹æ¡ˆ | âœ… å·²æ ¹æ®DHLå®˜æ–¹æ–‡æ¡£æ ¡éªŒä¿®æ­£</p>
        </div>
    </div>
    
    <script>
        // å¹³æ»‘æ»šåŠ¨å¯¼èˆª
        document.querySelectorAll('.nav-menu a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // æ·»åŠ ä»£ç å¤åˆ¶åŠŸèƒ½
        document.querySelectorAll('pre').forEach(pre => {
            const button = document.createElement('button');
            button.innerText = 'å¤åˆ¶';
            button.className = 'absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600';
            pre.style.position = 'relative';
            pre.appendChild(button);
            
            button.addEventListener('click', () => {
                const code = pre.querySelector('code').innerText;
                navigator.clipboard.writeText(code).then(() => {
                    button.innerText = 'å·²å¤åˆ¶!';
                    setTimeout(() => {
                        button.innerText = 'å¤åˆ¶';
                    }, 2000);
                });
            });
        });
    </script>
</body>
</html>
